<f:layout name="Default" />

<f:section name="main">
	<table id="jwGetParking" class="table-striped" data-occupied="{f:translate(key: 'occupied')}" data-ajax-refresh="{ajaxRefresh}">
		<thead>
			<tr>
				<th>&nbsp;</th>
				<th><f:translate key="parking" /></th>
				<th><f:translate key="free" /></th>
			</tr>
		</thead>

		<tbody>
			<f:for each="{parkings}" as="parking" key="key">
				<f:if condition="{0: parking.title}!={0: 'Reserve'}">
					<tr>
						<td><span class="parking-blue">P</span></td>
						<td>
							<f:if condition="{parking.link}">
								<f:then><f:link.page pageUid="{parking.link}">{parking.title} ({parking.parkings})</f:link.page></f:then>
								<f:else>{parking.title} ({parking.parkings})</f:else>
							</f:if>
						</td>
						<td><span class="jwGetFreeParking-{parking.uid}"></span></td>
					</tr>
				</f:if>
			</f:for>
		</tbody>
	</table>
</f:section>
